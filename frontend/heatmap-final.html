<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèë Mapa de Calor - Hockey Management</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: #1e3c72;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
            align-items: end;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-weight: 600;
            color: #1e3c72;
            font-size: 14px;
        }
        
        select, button {
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
        }
        
        select {
            background: white;
            color: #333;
        }
        
        button {
            background: #2a7f3e;
            color: white;
            border: 2px solid #2a7f3e;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button:hover:not(:disabled) {
            background: #1e5a2b;
            border-color: #1e5a2b;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background: #ccc;
            border-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .field-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            position: relative;
        }
        
        .hockey-field-canvas {
            border: 4px solid #ffffff;
            border-radius: 15px;
            background: #2a7f3e;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            font-size: 14px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid #ccc;
        }
        
        .status {
            text-align: center;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
            font-weight: 600;
        }
        
        .status.loading { background: #cce5ff; color: #004085; }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
        
        .stats-section {
            margin-top: 30px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #e9ecef;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin-top: 20px;
        }
        
        .zone-stat {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .zone-stat:hover {
            border-color: #2a7f3e;
            transform: scale(1.02);
        }
        
        .zone-number {
            font-weight: bold;
            color: #2a7f3e;
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .zone-count {
            color: #666;
            font-size: 14px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .action-buttons button {
            min-width: 120px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèë Mapa de Calor T√°ctico</h1>
            <p>An√°lisis de patrones de juego por zonas</p>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label for="actionType">Tipo de Acci√≥n:</label>
                <select id="actionType">
                    <option value="general">üîµ Actividad General</option>
                    <option value="Recuperaci√≥n Bocha">üü¢ Recuperaci√≥n de Bochas</option>
                    <option value="P√©rdida Bocha">üî¥ P√©rdida de Bochas</option>
                    <option value="Gol">‚öΩ Goles</option>
                    <option value="Falta">‚ö†Ô∏è Faltas</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Acciones:</label>
                <button onclick="generateHeatmap()">üî• Generar Mapa de Calor</button>
            </div>
        </div>
        
        <div id="statusDiv"></div>
        
        <div class="field-container">
            <canvas id="hockeyField" class="hockey-field-canvas" width="600" height="400"></canvas>
        </div>
        
        <div class="legend" id="legendDiv">
            <!-- Se genera din√°micamente seg√∫n el tipo de acci√≥n -->
        </div>
        
        <div class="action-buttons">
            <button onclick="clearHeatmap()">üßπ Limpiar</button>
            <button onclick="toggleZoneNumbers()">üî¢ N√∫meros de Zona</button>
            <button onclick="exportHeatmap()" id="exportBtn" disabled>üíæ Exportar PNG</button>
        </div>
        
        <div class="stats-section">
            <h3>üìä Estad√≠sticas por Zona</h3>
            <div class="stats-grid" id="zoneStatsGrid">
                <!-- Se genera din√°micamente -->
            </div>
        </div>
    </div>

    <script>
        class HockeyHeatmapCanvas {
            constructor(canvasId) {
                this.canvas = document.getElementById(canvasId);
                this.ctx = this.canvas.getContext('2d');
                this.showZoneNumbers = false;
                this.currentData = null;
                this.currentActionType = 'general';
                
                this.setupCanvas();
                this.drawField();
            }
            
            setupCanvas() {
                // Canvas ya tiene dimensiones fijas en HTML
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            }
            
            drawField() {
                // Limpiar canvas
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Fondo verde (igual al dashboard)
                this.ctx.fillStyle = '#2a7f3e';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Textura de c√©sped (l√≠neas verticales sutiles)
                this.drawGrassTexture();
                
                // Borde del campo
                this.ctx.strokeStyle = '#ffffff';
                this.ctx.lineWidth = 4;
                this.ctx.strokeRect(4, 4, this.canvas.width - 8, this.canvas.height - 8);
                
                // L√≠neas del campo
                this.drawFieldLines();
                
                // √Åreas de gol
                this.drawGoalAreas();
                
                // Porter√≠as
                this.drawGoals();
                
                // Puntos de penalti
                this.drawPenaltySpots();
                
                // L√≠neas de zona (12 zonas)
                this.drawZoneLines();
                
                // N√∫meros de zona si est√°n habilitados
                if (this.showZoneNumbers) {
                    this.drawZoneNumbers();
                }
            }
            
            drawGrassTexture() {
                this.ctx.strokeStyle = 'rgba(0, 0, 0, 0.03)';
                this.ctx.lineWidth = 1;
                
                for (let x = 0; x < this.canvas.width; x += 20) {
                    this.ctx.beginPath();
                    this.ctx.moveTo(x, 0);
                    this.ctx.lineTo(x, this.canvas.height);
                    this.ctx.stroke();
                }
            }
            
            drawFieldLines() {
                this.ctx.strokeStyle = '#ffffff';
                this.ctx.lineWidth = 3;
                
                // L√≠nea central (50%)
                this.ctx.beginPath();
                this.ctx.moveTo(8, this.canvas.height / 2);
                this.ctx.lineTo(this.canvas.width - 8, this.canvas.height / 2);
                this.ctx.stroke();
                
                // L√≠neas de cuarto (25% y 75%) - igual al dashboard
                this.ctx.beginPath();
                this.ctx.moveTo(8, this.canvas.height * 0.25);
                this.ctx.lineTo(this.canvas.width - 8, this.canvas.height * 0.25);
                this.ctx.stroke();
                
                this.ctx.beginPath();
                this.ctx.moveTo(8, this.canvas.height * 0.75);
                this.ctx.lineTo(this.canvas.width - 8, this.canvas.height * 0.75);
                this.ctx.stroke();
                
                // C√≠rculo central (igual al dashboard)
                const centerX = this.canvas.width / 2;
                const centerY = this.canvas.height / 2;
                const circleRadius = 60; // 120px en dashboard, 60px aqu√≠ (mitad del tama√±o)
                
                this.ctx.beginPath();
                this.ctx.arc(centerX, centerY, circleRadius, 0, 2 * Math.PI);
                this.ctx.stroke();
                
                // Punto central
                this.ctx.fillStyle = '#ffffff';
                this.ctx.beginPath();
                this.ctx.arc(centerX, centerY, 4, 0, 2 * Math.PI);
                this.ctx.fill();
            }
            
            drawGoalAreas() {
                const centerX = this.canvas.width / 2;
                const areaWidth = 150; // 300px en dashboard, 150px aqu√≠
                const areaHeight = 60;  // 120px en dashboard, 60px aqu√≠
                
                this.ctx.strokeStyle = '#ffffff';
                this.ctx.lineWidth = 3;
                
                // √Årea superior (sin borde superior)
                this.ctx.beginPath();
                this.ctx.moveTo(centerX - areaWidth/2, 8);
                this.ctx.lineTo(centerX - areaWidth/2, areaHeight + 8);
                this.ctx.arc(centerX, areaHeight + 8, areaWidth/2, Math.PI, 0); // Semic√≠rculo
                this.ctx.lineTo(centerX + areaWidth/2, 8);
                this.ctx.stroke();
                
                // √Årea inferior (sin borde inferior)
                this.ctx.beginPath();
                this.ctx.moveTo(centerX - areaWidth/2, this.canvas.height - 8);
                this.ctx.lineTo(centerX - areaWidth/2, this.canvas.height - areaHeight - 8);
                this.ctx.arc(centerX, this.canvas.height - areaHeight - 8, areaWidth/2, 0, Math.PI); // Semic√≠rculo
                this.ctx.lineTo(centerX + areaWidth/2, this.canvas.height - 8);
                this.ctx.stroke();
            }
            
            drawGoals() {
                const centerX = this.canvas.width / 2;
                const goalWidth = 60; // 120px en dashboard, 60px aqu√≠
                const goalHeight = 12; // 25px en dashboard, 12px aqu√≠
                
                // Porter√≠a superior
                this.ctx.fillStyle = '#f0f0f0';
                this.ctx.fillRect(centerX - goalWidth/2, -6, goalWidth, goalHeight);
                this.ctx.strokeStyle = '#ffffff';
                this.ctx.lineWidth = 2;
                this.ctx.strokeRect(centerX - goalWidth/2, -6, goalWidth, goalHeight);
                
                // Porter√≠a inferior
                this.ctx.fillStyle = '#f0f0f0';
                this.ctx.fillRect(centerX - goalWidth/2, this.canvas.height - 6, goalWidth, goalHeight);
                this.ctx.strokeStyle = '#ffffff';
                this.ctx.strokeRect(centerX - goalWidth/2, this.canvas.height - 6, goalWidth, goalHeight);
            }
            
            drawPenaltySpots() {
                const centerX = this.canvas.width / 2;
                
                this.ctx.fillStyle = '#ffffff';
                
                // Punto superior (80px en dashboard, 40px aqu√≠)
                this.ctx.beginPath();
                this.ctx.arc(centerX, 40, 4, 0, 2 * Math.PI);
                this.ctx.fill();
                
                // Punto inferior
                this.ctx.beginPath();
                this.ctx.arc(centerX, this.canvas.height - 40, 4, 0, 2 * Math.PI);
                this.ctx.fill();
            }
            
            drawZoneLines() {
                this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                this.ctx.lineWidth = 1;
                this.ctx.setLineDash([5, 5]);
                
                const zoneWidth = (this.canvas.width - 16) / 3; // 3 columnas
                const zoneHeight = (this.canvas.height - 16) / 4; // 4 filas
                
                // L√≠neas verticales (divisiones en 3)
                for (let i = 1; i < 3; i++) {
                    const x = 8 + (zoneWidth * i);
                    this.ctx.beginPath();
                    this.ctx.moveTo(x, 8);
                    this.ctx.lineTo(x, this.canvas.height - 8);
                    this.ctx.stroke();
                }
                
                // L√≠neas horizontales adicionales (evitando las l√≠neas principales)
                for (let i = 1; i < 4; i++) {
                    const y = 8 + (zoneHeight * i);
                    // Solo dibujar si no coincide con l√≠neas principales del campo
                    if (Math.abs(y - this.canvas.height * 0.25) > 5 && 
                        Math.abs(y - this.canvas.height * 0.5) > 5 && 
                        Math.abs(y - this.canvas.height * 0.75) > 5) {
                        this.ctx.beginPath();
                        this.ctx.moveTo(8, y);
                        this.ctx.lineTo(this.canvas.width - 8, y);
                        this.ctx.stroke();
                    }
                }
                
                this.ctx.setLineDash([]);
            }
            
            drawZoneNumbers() {
                this.ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                this.ctx.font = 'bold 16px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
                this.ctx.lineWidth = 3;
                
                const zoneWidth = (this.canvas.width - 16) / 3;
                const zoneHeight = (this.canvas.height - 16) / 4;
                
                for (let zone = 1; zone <= 12; zone++) {
                    const row = Math.floor((zone - 1) / 3);
                    const col = (zone - 1) % 3;
                    
                    const x = 8 + (col * zoneWidth) + (zoneWidth / 2);
                    const y = 8 + (row * zoneHeight) + (zoneHeight / 2) + 6;
                    
                    this.ctx.strokeText(zone.toString(), x, y);
                    this.ctx.fillText(zone.toString(), x, y);
                }
            }
            
            generateHeatmap(data, actionType) {
                this.currentData = data;
                this.currentActionType = actionType;
                
                // Redibujar campo
                this.drawField();
                
                if (!data || data.length === 0) {
                    this.drawNoDataMessage();
                    return;
                }
                
                // Procesar datos y dibujar calor
                const zoneStats = this.processZoneData(data);
                this.drawHeatOverlay(zoneStats, actionType);
            }
            
            processZoneData(data) {
                const stats = {};
                
                // Inicializar zonas
                for (let i = 1; i <= 12; i++) {
                    stats[i] = { count: 0, intensity: 0 };
                }
                
                // Procesar datos
                data.forEach(item => {
                    const zone = parseInt(item.zone_number);
                    const count = parseInt(item.action_count) || 0;
                    if (zone >= 1 && zone <= 12) {
                        stats[zone].count = count;
                    }
                });
                
                // Calcular intensidad relativa
                const maxCount = Math.max(...Object.values(stats).map(s => s.count));
                if (maxCount > 0) {
                    Object.keys(stats).forEach(zone => {
                        stats[zone].intensity = stats[zone].count / maxCount;
                    });
                }
                
                return stats;
            }
            
            drawHeatOverlay(zoneStats, actionType) {
                const zoneWidth = (this.canvas.width - 16) / 3;
                const zoneHeight = (this.canvas.height - 16) / 4;
                
                Object.keys(zoneStats).forEach(zoneNumber => {
                    const zone = parseInt(zoneNumber);
                    const stats = zoneStats[zone];
                    
                    if (stats.intensity > 0) {
                        const row = Math.floor((zone - 1) / 3);
                        const col = (zone - 1) % 3;
                        
                        const x = 8 + (col * zoneWidth);
                        const y = 8 + (row * zoneHeight);
                        
                        const alpha = 0.3 + (stats.intensity * 0.5); // Entre 0.3 y 0.8
                        const color = this.getActionColor(actionType, alpha);
                        
                        this.ctx.fillStyle = color;
                        this.ctx.fillRect(x, y, zoneWidth, zoneHeight);
                        
                        // Dibujar n√∫mero de acciones
                        this.ctx.fillStyle = 'white';
                        this.ctx.font = 'bold 14px Arial';
                        this.ctx.textAlign = 'center';
                        this.ctx.strokeStyle = 'black';
                        this.ctx.lineWidth = 2;
                        
                        const textX = x + zoneWidth / 2;
                        const textY = y + zoneHeight / 2 + 15;
                        
                        this.ctx.strokeText(stats.count.toString(), textX, textY);
                        this.ctx.fillText(stats.count.toString(), textX, textY);
                    }
                });
            }
            
            getActionColor(actionType, alpha) {
                switch(actionType) {
                    case 'Recuperaci√≥n Bocha':
                        return `rgba(0, 200, 100, ${alpha})`;
                    case 'P√©rdida Bocha':
                        return `rgba(255, 50, 50, ${alpha})`;
                    case 'Gol':
                        return `rgba(255, 215, 0, ${alpha})`;
                    case 'Falta':
                        return `rgba(255, 140, 0, ${alpha})`;
                    default:
                        return `rgba(50, 150, 255, ${alpha})`;
                }
            }
            
            drawNoDataMessage() {
                this.ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                this.ctx.font = '18px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.fillText(
                    'No hay datos disponibles para esta acci√≥n',
                    this.canvas.width / 2,
                    this.canvas.height / 2
                );
            }
            
            exportAsPNG(filename) {
                const link = document.createElement('a');
                link.download = filename || 'mapa_calor_hockey.png';
                link.href = this.canvas.toDataURL();
                link.click();
            }
            
            toggleZoneNumbers() {
                this.showZoneNumbers = !this.showZoneNumbers;
                this.drawField();
                if (this.currentData) {
                    this.generateHeatmap(this.currentData, this.currentActionType);
                }
            }
        }
        
        // Datos de ejemplo
        const sampleData = {
            'general': [
                { zone_number: 1, action_count: 15 },
                { zone_number: 2, action_count: 18 },
                { zone_number: 3, action_count: 8 },
                { zone_number: 4, action_count: 22 },
                { zone_number: 5, action_count: 25 },
                { zone_number: 6, action_count: 12 },
                { zone_number: 7, action_count: 16 },
                { zone_number: 8, action_count: 19 },
                { zone_number: 9, action_count: 9 },
                { zone_number: 10, action_count: 11 },
                { zone_number: 11, action_count: 21 },
                { zone_number: 12, action_count: 14 }
            ],
            'Recuperaci√≥n Bocha': [
                { zone_number: 1, action_count: 5 },
                { zone_number: 2, action_count: 8 },
                { zone_number: 3, action_count: 3 },
                { zone_number: 4, action_count: 12 },
                { zone_number: 5, action_count: 15 },
                { zone_number: 6, action_count: 7 },
                { zone_number: 7, action_count: 4 },
                { zone_number: 8, action_count: 9 },
                { zone_number: 9, action_count: 2 },
                { zone_number: 10, action_count: 6 },
                { zone_number: 11, action_count: 11 },
                { zone_number: 12, action_count: 8 }
            ],
            'P√©rdida Bocha': [
                { zone_number: 1, action_count: 2 },
                { zone_number: 2, action_count: 1 },
                { zone_number: 3, action_count: 4 },
                { zone_number: 4, action_count: 3 },
                { zone_number: 5, action_count: 2 },
                { zone_number: 6, action_count: 6 },
                { zone_number: 7, action_count: 8 },
                { zone_number: 8, action_count: 3 },
                { zone_number: 9, action_count: 7 },
                { zone_number: 10, action_count: 1 },
                { zone_number: 11, action_count: 2 },
                { zone_number: 12, action_count: 5 }
            ],
            'Gol': [
                { zone_number: 1, action_count: 0 },
                { zone_number: 2, action_count: 0 },
                { zone_number: 3, action_count: 0 },
                { zone_number: 4, action_count: 1 },
                { zone_number: 5, action_count: 3 },
                { zone_number: 6, action_count: 1 },
                { zone_number: 7, action_count: 2 },
                { zone_number: 8, action_count: 4 },
                { zone_number: 9, action_count: 2 },
                { zone_number: 10, action_count: 0 },
                { zone_number: 11, action_count: 1 },
                { zone_number: 12, action_count: 0 }
            ],
            'Falta': [
                { zone_number: 1, action_count: 3 },
                { zone_number: 2, action_count: 2 },
                { zone_number: 3, action_count: 3 },
                { zone_number: 4, action_count: 5 },
                { zone_number: 5, action_count: 4 },
                { zone_number: 6, action_count: 4 },
                { zone_number: 7, action_count: 2 },
                { zone_number: 8, action_count: 3 },
                { zone_number: 9, action_count: 1 },
                { zone_number: 10, action_count: 2 },
                { zone_number: 11, action_count: 3 },
                { zone_number: 12, action_count: 2 }
            ]
        };
        
        // Variables globales
        let heatmapCanvas;
        
        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            heatmapCanvas = new HockeyHeatmapCanvas('hockeyField');
            initializeZoneStats();
            updateLegend('general');
            showStatus('‚úÖ Sistema listo para generar mapas de calor', 'success');
        });
        
        // Funciones
        function generateHeatmap() {
            const actionType = document.getElementById('actionType').value;
            showStatus('üî• Generando mapa de calor...', 'loading');
            
            setTimeout(() => {
                const data = sampleData[actionType] || [];
                heatmapCanvas.generateHeatmap(data, actionType);
                updateZoneStats(data);
                updateLegend(actionType);
                document.getElementById('exportBtn').disabled = false;
                showStatus(`‚úÖ Mapa de calor generado: ${getActionName(actionType)}`, 'success');
            }, 500);
        }
        
        function clearHeatmap() {
            heatmapCanvas.drawField();
            initializeZoneStats();
            document.getElementById('exportBtn').disabled = true;
            showStatus('üßπ Mapa de calor limpiado', 'success');
        }
        
        function toggleZoneNumbers() {
            heatmapCanvas.toggleZoneNumbers();
            showStatus(heatmapCanvas.showZoneNumbers ? 'üî¢ N√∫meros mostrados' : 'üî¢ N√∫meros ocultados', 'success');
        }
        
        function exportHeatmap() {
            const actionType = document.getElementById('actionType').value;
            const filename = `mapa_calor_${actionType.toLowerCase().replace(' ', '_')}.png`;
            heatmapCanvas.exportAsPNG(filename);
            showStatus('üíæ Imagen exportada exitosamente', 'success');
        }
        
        function initializeZoneStats() {
            const grid = document.getElementById('zoneStatsGrid');
            grid.innerHTML = '';
            
            for (let i = 1; i <= 12; i++) {
                const div = document.createElement('div');
                div.className = 'zone-stat';
                div.innerHTML = `
                    <div class="zone-number">Zona ${i}</div>
                    <div class="zone-count" id="zone-${i}-count">0 acciones</div>
                `;
                grid.appendChild(div);
            }
        }
        
        function updateZoneStats(data) {
            for (let i = 1; i <= 12; i++) {
                const element = document.getElementById(`zone-${i}-count`);
                if (element) {
                    const zoneData = data.find(item => item.zone_number == i);
                    const count = zoneData ? zoneData.action_count : 0;
                    element.textContent = `${count} acciones`;
                }
            }
        }
        
        function updateLegend(actionType) {
            const legendDiv = document.getElementById('legendDiv');
            const colors = getLegendColors(actionType);
            
            legendDiv.innerHTML = colors.map(item => `
                <div class="legend-item">
                    <div class="legend-color" style="background: ${item.color};"></div>
                    <span>${item.label}</span>
                </div>
            `).join('');
        }
        
        function getLegendColors(actionType) {
            switch(actionType) {
                case 'Recuperaci√≥n Bocha':
                    return [
                        { color: 'rgba(0,200,100,0.4)', label: 'Pocas' },
                        { color: 'rgba(0,200,100,0.6)', label: 'Moderadas' },
                        { color: 'rgba(0,200,100,0.8)', label: 'Muchas' }
                    ];
                case 'P√©rdida Bocha':
                    return [
                        { color: 'rgba(255,50,50,0.4)', label: 'Pocas' },
                        { color: 'rgba(255,50,50,0.6)', label: 'Moderadas' },
                        { color: 'rgba(255,50,50,0.8)', label: 'Muchas' }
                    ];
                case 'Gol':
                    return [
                        { color: 'rgba(255,215,0,0.4)', label: 'Pocos' },
                        { color: 'rgba(255,215,0,0.6)', label: 'Moderados' },
                        { color: 'rgba(255,215,0,0.8)', label: 'Muchos' }
                    ];
                case 'Falta':
                    return [
                        { color: 'rgba(255,140,0,0.4)', label: 'Pocas' },
                        { color: 'rgba(255,140,0,0.6)', label: 'Moderadas' },
                        { color: 'rgba(255,140,0,0.8)', label: 'Muchas' }
                    ];
                default:
                    return [
                        { color: 'rgba(50,150,255,0.4)', label: 'Baja' },
                        { color: 'rgba(50,150,255,0.6)', label: 'Media' },
                        { color: 'rgba(50,150,255,0.8)', label: 'Alta' }
                    ];
            }
        }
        
        function getActionName(actionType) {
            const names = {
                'general': 'Actividad General',
                'Recuperaci√≥n Bocha': 'Recuperaci√≥n de Bochas',
                'P√©rdida Bocha': 'P√©rdida de Bochas',
                'Gol': 'Goles',
                'Falta': 'Faltas'
            };
            return names[actionType] || actionType;
        }
        
        function showStatus(message, type) {
            const statusDiv = document.getElementById('statusDiv');
            statusDiv.className = `status ${type}`;
            statusDiv.textContent = message;
            
            if (type === 'success') {
                setTimeout(() => {
                    statusDiv.textContent = '';
                    statusDiv.className = '';
                }, 3000);
            }
        }
    </script>
</body>
</html>
